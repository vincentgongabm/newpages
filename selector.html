<!DOCTYPE html>
<html>

<script>
var yni = "temp";
var aav_array = document.getElementsByTagName("tr");
var num_array = document.getElementsByTagName("tr");

function test(){
  var x = document.getElementsByTagName("tr");
  document.getElementById("demo").innerHTML = x[9].getAttribute("data-aav")==null;
}

function array_intersection(array1, array2){
    var array2_catno = [];
    for(var i = 0; i < array2.length; i++){
      array2_catno.push(array2[i].getElementsByTagName("td")[2].innerHTML);
    }
  var final_array = [];
    for(var i = 0; i < array1.length; i++){
      if(array2_catno.indexOf(array1[i].getElementsByTagName("td")[2].innerHTML)!= -1){
          final_array.push(array1[i]);
        }
    }
    return final_array;
}

function show_result(){

  var final_array = array_intersection(aav_array, num_array);
    var final_array_catno = [];
    for(var i = 0; i < final_array.length; i++){
      final_array_catno.push(final_array[i].getElementsByTagName("td")[2].innerHTML);
    }
  for(var i = 0; i < final_array.length; i++){
      final_array[i].style.display = "block";
    }
    var x = document.getElementsByTagName("tr");
    for(var i = 0; i < x.length; i++){
      if(final_array_catno.indexOf(x[i].getElementsByTagName("td")[2].innerHTML) == -1){
      	if(x[i].parentNode.parentNode.id== "table3" || x[i].parentNode.parentNode.id== "table4" || x[i].parentNode.parentNode.id== "table5"){
          x[i].style.display = "none";
          }
        }
    }
    if(yni == "y"){
    	document.getElementById("table1").style.display = "none";
        document.getElementById("table2").style.display = "none";
    }
    if(yni == "n"){
    	document.getElementById("table1").style.display = "none";
        document.getElementById("table2").style.display = "block";
    }
    if(yni == "i"){
    	document.getElementById("table1").style.display = "block";
        document.getElementById("table2").style.display = "block";
    }

}


function init(){
  var x = document.getElementsByTagName("tr");
  for(var i = 0; i < x.length; i++){
    x[i].style.display = "block";
  }
  document.getElementById("table1").style.display = "block";
  document.getElementById("table2").style.display = "block";
  yni = "temp";
  aav_array = document.getElementsByTagName("tr");
  num_array = document.getElementsByTagName("tr");  
}
function showyni(_yni) {
	yni = _yni;
    show_result();
}

function showaav(aav) {
  aav_array = [];
    var x = document.getElementsByTagName("tr");
  for(var i = 0; i < x.length; i++){
        if(x[i].getAttribute("data-aav")==aav || x[i].getAttribute("data-aav")==null ){
          aav_array.push(x[i]); 
        }
    }
    show_result();
}

function shownum(num) {
  num_array = [];
    var x = document.getElementsByTagName("tr");
  for(var i = 0; i < x.length; i++){
        if(x[i].getAttribute("data-num")==num || x[i].getAttribute("data-num")==null){
          num_array.push(x[i]); 
        }
    }
    show_result();
}

</script>
<body>
<p id="demo">hi</p>
<button type="button" onclick="test()">test</button>
<div></div>
<button type="button" onclick="showyni('y')">In AAV System</button>
<button type="button" onclick="showyni('n')">In Non-AAV System</button>
<button type="button" onclick="showyni('i')">Insert Not Provided</button>
<div></div>
<button type="button" onclick="showaav('aav1')">AAV1</button>
<button type="button" onclick="showaav('aav2')">AAV2</button>
<button type="button" onclick="showaav('aav3')">AAV3</button>
<div></div>
<button type="button" onclick="shownum('9')">10<sup>9</sup></button>
<button type="button" onclick="shownum('12')">10<sup>12</sup></button>
<div></div>
<button type="button" onclick="init()">reset</button>
<table id="table1">      
  <tbody>
  	<tr>
    	<td>table1 dummy</td>
      	<td>table1 dummy</td>
      	<td>table1 dummy</td>
      	<td>table1 dummy</td>
    </tr>
  </tbody>
</table>
<table id="table2">      
  <tbody>
  	<tr>
    	<td>table2 dummy</td>
      	<td>table2 dummy</td>
      	<td>table2 dummy</td>
      	<td>table2 dummy</td>
    </tr>
  </tbody>
</table>

<table id="table3">      
  <tbody>
    <tr data-aav="aav1" data-num="9">
      <td>AAV (10^9 GC/ml) (AAV1)</td>
      <td>5 x 200 μl</td>
      <td>C239</td>
      <td>$<span class="customServicePriceGeoIP">400.00</span></td>
    </tr>
    <tr data-aav="aav2" data-num="9">
      <td>AAV (10^9 GC/ml) (AAV2)</td>
      <td>5 x 200 μl</td>
      <td>C240</td>
      <td>$<span class="customServicePriceGeoIP">400.00</span></td>
    </tr>
    <tr data-aav="aav3" data-num="9">
      <td>AAV (10^9 GC/ml) (AAV3)</td>
      <td>5 x 200 μl</td>
      <td>C290</td>
      <td>$<span class="customServicePriceGeoIP">400.00</span></td>
    </tr>
   
    <tr data-aav="aav1" data-num="12">
      <td>AAV (10^12 GC/ml) (AAV1)</td>
      <td>2 x 100 μl</td>
      <td>C247</td>
      <td>$<span class="customServicePriceGeoIP">950.00</span></td>
    </tr>
    <tr data-aav="aav2" data-num="12">
      <td>AAV (10^12 GC/ml) (AAV2)</td>
      <td>2 x 100 μl</td>
      <td>C248</td>
      <td>$<span class="customServicePriceGeoIP">950.00</span></td>
    </tr>
    <tr data-aav="aav3" data-num="12">
      <td>AAV (10^12 GC/ml) (AAV3)</td>
      <td>2 x 100 μl</td>
      <td>C292</td>
      <td>$<span class="customServicePriceGeoIP">950.00</span></td>
    </tr>
    <tr data-aav="aav1">
      <td>AAV (AAV1)</td>
      <td>2 x 100 μl</td>
      <td>C000</td>
      <td>$<span class="customServicePriceGeoIP">950.00</span></td>
    </tr>
    <tr>
      <td>AAV</td>
      <td>2 x 100 μl</td>
      <td>C001</td>
      <td>$<span class="customServicePriceGeoIP">950.00</span></td>
    </tr>
  </tbody>
</table>
<table id="table6">      
  <tbody>
  	<tr>
    	<td>table6 dummy</td>
      	<td>table6 dummy</td>
      	<td>table6 dummy</td>
      	<td>table6 dummy</td>
    </tr>
  </tbody>
</table>
<table id="table7">      
  <tbody>
  	<tr>
    	<td>table7 dummy</td>
      	<td>table7 dummy</td>
      	<td>table7 dummy</td>
      	<td>table7 dummy</td>
    </tr>
  </tbody>
</table>
<table id="table8">      
  <tbody>
  	<tr>
    	<td>table8 dummy</td>
      	<td>table8 dummy</td>
      	<td>table8 dummy</td>
      	<td>table8 dummy</td>
    </tr>
  </tbody>
</table>
</body>

</html>
